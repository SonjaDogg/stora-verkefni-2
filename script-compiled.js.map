{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  // runs when the DOM content has loaded\n\n  var player_html = document.querySelector('.spilandim');\n\n  if (player_html) {\n    player.init();\n  } else {\n    library.init();\n  }\n\n});\n\nvar player = (function() {\n\n  var video_container;\n  var video_index;\n\n  var video;\n  var overlay_button_html;\n  var back_html;\n  var play_html;\n  var mute_html;\n  var fullscreen_html;\n  var forward_html;\n\n\n  function init() {\n    var url = window.location.search;\n    video_index = url.split('=')[1];\n    video_container = document.querySelector('.video_container');\n\n    // Fetching video control elements\n\n    empty(video_container);\n    fetchData();\n  }\n  // finds the video in json by index number\n  function getVideoAtIndex(index, videoArray) {\n\n    for (var i = 0; i < videoArray.length; i++) {\n      var videoData = videoArray[i]\n\n      if (videoData.id == index) {\n        return videoData;\n      }\n    }\n  }\n\n  function bindControls() {\n\n    video = document.querySelector(\"video\");\n    back_html = document.getElementsByClassName(\"back\");\n    play_html = document.getElementsByClassName(\"play\");\n    mute_html = document.getElementsByClassName(\"mute\");\n    fullscreen_html = document.getElementsByClassName('fullscreen');\n    forward_html = document.getElementsByClassName(\"next\");\n    overlay_button_html = document.getElementsByClassName(\"overlay\");\n\n\n    back_html[0].addEventListener('click', function() {\n      video.currentTime -= 3;\n    });\n\n    // play and pause controls\n\n    play_html[0].addEventListener(\"click\", function () {\n      if (video.paused) {\n        video.play();\n        document.getElementById('play_pause').setAttribute('src', 'img/pause.svg');\n        video.style.opacity = \"1\";\n        document.getElementById('overlay').style.opacity = \"0\";\n      } else {\n        video.pause();\n        document.getElementById('play_pause').setAttribute('src', 'img/play.svg');\n        video.style.opacity = \"0.2\";\n        document.getElementById('overlay').style.opacity = \"1\";\n      }\n    });\n\n    // mute control\n\n    mute_html[0].addEventListener('click', function(){\n      if (video.muted) {\n        video.muted = false;\n        document.getElementById('mute_unmute').setAttribute('src', 'img/mute.svg');\n      } else {\n        video.muted = true;\n        document.getElementById('mute_unmute').setAttribute('src', 'img/unmute.svg');\n      }\n    });\n\n    //fullscreen control\n\n    fullscreen_html[0].addEventListener('click', function() {\n      if (video.requestFullscreen) {\n        video.requestFullscreen();\n      } else if (video.mozRequestFullScreen) {\n        video.mozRequestFullScreen();\n      } else if (video.webkitRequestFullscreen) {\n        video.webkitRequestFullscreen();\n      }\n    });\n\n    // forward control\n\n    forward_html[0].addEventListener('click', function() {\n      video.currentTime += 3;\n    });\n\n  }\n\n  function empty(element) {\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  function construct_video_player(video_data) {\n\n  var spilandim_html = document.createElement('div');\n  spilandim_html.classList.add('spilandim');\n  video_container.appendChild(spilandim_html);\n\n  var header = document.createElement('h1');\n  header.appendChild(document.createTextNode(video_data.title));\n  spilandim_html.appendChild(header);\n\n  var screen_html = document.createElement('div');\n  screen_html.classList.add('screen');\n  video_container.appendChild(screen_html);\n\n  var overlay_div = document.createElement('div');\n  overlay_div.setAttribute('id', 'overlay');\n  screen_html.appendChild(overlay_div);\n  var img_tag = document.createElement('img');\n  img_tag.setAttribute('src', 'img/play.svg');\n  img_tag.setAttribute('width', '50');\n  overlay_div.appendChild(img_tag);\n\n  var video = document.createElement('video');\n  video.setAttribute('src', video_data.video);\n  screen_html.appendChild(video);\n  }\n\n  function fetchData() {\n    var request = new XMLHttpRequest();\n    request.open('GET', 'videos.json', true);\n\n    request.onload = function() {\n      // converts the response to a json object to be able to use it\n      var data_from_json_videos = JSON.parse(request.response);\n      var videos = data_from_json_videos.videos;\n      var data = getVideoAtIndex(video_index, videos);\n      construct_video_player(data);\n\n      bindControls();\n    }\n    request.send();\n  }\n\n  return {\n    init: init\n  }\n})();\n\nvar library = (function() {\n\n  var nylegm;\n  var kennslum;\n  var skemmtim;\n\n  function init() {\n    // searches the html document for html tags\n    nylegm = document.querySelector('.nylegm');\n    kennslum = document.querySelector('.kennslum');\n    skemmtim = document.querySelector('.skemmtim');\n\n    // fetches data from json files and constructs the html\n    fetchData();\n\n  }\n  function fetchData() {\n    var request = new XMLHttpRequest();\n    request.open('GET', 'videos.json', true);\n\n    // runs a fuction to add the data to the html when request has retuned data\n    request.onload = function() {\n      // converts the response to a json object to be able to use it\n      var data_from_json_videos = JSON.parse(request.response);\n\n      // creates a variable with data from the categories\n      var ny = data_from_json_videos.categories[0];\n      empty(nylegm);\n      displayData(data_from_json_videos, nylegm, ny);\n\n      var kenns = data_from_json_videos.categories[1];\n      empty(kennslum);\n      displayData(data_from_json_videos, kennslum, kenns);\n\n      var skem = data_from_json_videos.categories[2];\n      empty(skemmtim);\n      displayData(data_from_json_videos, skemmtim, skem);\n\n\n      //displayData(data_from_json_videos)\n    }\n    request.send();\n  }\n\n  // Takes in data from json file and\n  function displayData(data, htmlCategory, category) {\n    var videosInCategory = category.videos;\n    var videos = data.videos;\n    console.log(\"videos \" + videos);\n\n    // creates the header and gives it the title\n    var header = document.createElement('h1');\n    header.appendChild(document.createTextNode(category.title));\n\n    // creates showcase div element\n    var showcase_div = document.createElement('div');\n    showcase_div.classList.add('showcase');\n\n    // iterates through all videos in category\n    for (var i = 0; i < videosInCategory.length; i++) {\n      var videoIndex = videosInCategory[i];\n\n      // finds video data for the caregory at this index\n      var dataForCategory = getVideoAtIndex(videoIndex, videos);\n      // creates the movie div that goes into showcase div\n      var movieDiv = constructMovieDiv(dataForCategory);\n      // adds the movie div to html\n      showcase_div.appendChild(movieDiv);\n\n    }\n        // adding the card to the parent html (nylegm, skemmtim kennslum)\n        htmlCategory.appendChild(header);\n        htmlCategory.appendChild(showcase_div);\n  }\n  // finds the video in json by index number\n  function getVideoAtIndex(index, videoArray) {\n\n    for (var i = 0; i < videoArray.length; i++) {\n      var videoData = videoArray[i]\n\n      if (videoData.id === index) {\n        return videoData;\n      }\n    }\n  }\n\n  function constructMovieDiv(dataForVideo) {\n\n    // making html structure\n    var movie_div = document.createElement('div');\n    movie_div.classList.add('movie');\n\n    var clickable_container = document.createElement('a');\n    clickable_container.setAttribute('href', 'videos.html' + '?id=' + dataForVideo.id);\n    var movie_img_div = document.createElement('div');\n    movie_img_div.classList.add('movie__image');\n\n    var movie_info_div = document.createElement('div');\n    movie_info_div.classList.add('movie__info');\n\n    var img_tag = document.createElement('img');\n\n    // Adding a new attribute to link the actual image\n    img_tag.setAttribute('src', dataForVideo.poster);\n\n    // Overlay of the length of the video\n    var t_overlay = document.createElement('div');\n    t_overlay.classList.add('t_overlay');\n    var p_length = document.createElement('p');\n    p_length.appendChild(document.createTextNode(showTime(dataForVideo.duration)));\n    t_overlay.appendChild(p_length);\n\n    // adding the css class for the movie image\n    var movie_title_text = document.createElement(\"p\");\n    movie_title_text.classList.add('title');\n    movie_title_text.appendChild(document.createTextNode(dataForVideo.title));\n\n    var movie_info_text = document.createElement(\"p\");\n    movie_info_text.classList.add('info');\n\n    movie_info_text.appendChild(document.createTextNode(showDate(dataForVideo.created)));\n\n    movie_img_div.appendChild(img_tag);\n    movie_img_div.appendChild(t_overlay);\n    clickable_container.appendChild(movie_img_div);\n    movie_div.appendChild(clickable_container);\n\n    movie_info_div.appendChild(movie_title_text);\n    movie_info_div.appendChild(movie_info_text);\n    movie_div.appendChild(movie_info_div);\n\n    return movie_div;\n\n  }\n\n  function showDate(movieDate) {\n    /** calculates the difference of time between the creation of the video and\n        the current time when the script is run\n    **/\n    var diff = (Date.now() - movieDate) / 1000;\n\n      const diff_y = Math.floor(diff / (60 * 60 * 24 * 30 * 12));\n      const diff_m = Math.floor((diff / (60 * 60 * 24 * 30)) % 12);\n      const diff_w =  Math.floor((diff / (60 * 60 * 24 * 7)) % 30);\n      const diff_d =  Math.floor((diff / (60 * 60 * 24)) % 7);\n      const diff_h = Math.floor((diff / (60 * 60)) % 24);\n\n    // selects the correct sentence to show\n    switch (true) {\n      case (diff_y !== 0 && diff_y === 1):\n        return 'Fyrir ' + diff_y + ' ári síðan';\n        break;\n      case (diff_y !== 0 && diff_y !== 1):\n        return 'Fyrir ' + diff_y + ' árum síðan';\n        break;\n      case (diff_y === 0 && diff_m === 1):\n          return 'Fyrir ' + diff_m + ' mánuði síðan';\n          break;\n      case (diff_y === 0 && diff_m !== 1 && diff_m > 1):\n        return 'Fyrir ' + diff_m + ' mánuðum síðan';\n        break;\n      case (diff_y === 0 && diff_m === 0 && diff_w === 1):\n        return 'Fyrir ' + diff_w + ' viku síðan';\n        break;\n      case (diff_y === 0 && diff_m === 0 && diff_w !== 1 && diff_w > 1):\n        return 'Fyrir ' + diff_w + ' vikum síðan';\n        break;\n      case (diff_y === 0 && diff_m === 0 && diff_w === 0 && diff_d === 1):\n          return 'Fyrir ' + diff_d + ' degi síðan';\n          break;\n      case (diff_y === 0 && diff_m === 0 && diff_w === 0 && diff_d !== 1 && diff_d > 1):\n        return 'Fyrir ' + diff_d + ' dögum síðan';\n        break;\n      case (diff_y === 0 && diff_m === 0 && diff_w === 0 && diff_d === 0 && diff_h === 1):\n          return 'Fyrir ' + diff_h + ' klukkustund síðan';\n          break;\n      default:\n        return 'Fyrir ' + diff_h + ' klukkustundum síðan';\n    }\n  }\n\n  function showTime(movieTime) {\n    //Changes seconds to minutes and seconds\n    var minutes = Math.floor(movieTime / 60);\n    var seconds = movieTime - Math.floor(movieTime / 60) * 60;\n    console.log(\"min \" + minutes);\n    console.log(\"sec \" + seconds);\n\n    //Adds a '0' in front of seconds if only 1 digit\n    if (seconds.toString().length === 1) {\n      seconds = '0' + seconds;\n    }\n\n    return minutes + ':' + seconds;\n  }\n\n  // clears elements already present in html\n  function empty(element) {\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  return {\n    init: init\n  }\n})();\n"]}