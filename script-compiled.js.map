{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  // runs when the DOM content has loaded\n\n  // initializes the program object where all the logic happens\n\n  program.init();\n\n});\n\nvar program = (function() {\n\n  var nylegm;\n  var kennslum;\n  var skemmtim;\n\n  function init() {\n    // searches the whole document for nylegum html tag\n    nylegm = document.querySelector('.nylegm');\n    kennslum = document.querySelector('.kennslum');\n    skemmtim = document.querySelector('.skemmtim');\n\n    fetchData();\n\n  }\n  function fetchData() {\n    var request = new XMLHttpRequest();\n    request.open('GET','videos.json',true);\n\n    request.onload = function() {\n      var data_from_json_videos = JSON.parse(request.response);\n\n      var ny = data_from_json_videos.categories[0];\n      empty(nylegm);\n      displayData(data_from_json_videos,nylegm,ny);\n\n      var kenns = data_from_json_videos.categories[1];\n      empty(kennslum);\n      displayData(data_from_json_videos,kennslum,kenns);\n\n      var skem = data_from_json_videos.categories[2];\n      empty(skemmtim);\n      displayData(data_from_json_videos,skemmtim,skem);\n\n\n      //displayData(data_from_json_videos)\n    }\n    request.send();\n  }\n\n  function displayData(data, htmlCategory, category) {\n    console.log(htmlCategory);\n    var videosInCategory = category.videos;\n    var videos = data.videos;\n    console.log(\"videos \" + videos);\n\n    var header = document.createElement('h1');\n    header.appendChild(document.createTextNode(category.title));\n\n    var showcase_div = document.createElement('div');\n    showcase_div.classList.add('showcase');\n\n    for (var i = 0; i < videosInCategory.length; i++) {\n      var videoIndex = videosInCategory[i];\n      var dataForCategory = getVideoAtIndex(videoIndex, videos);\n      var movieDiv = constructMovieDiv(dataForCategory);\n      showcase_div.appendChild(movieDiv);\n\n    }\n        // adding the card to the parent html\n        htmlCategory.appendChild(header);\n        htmlCategory.appendChild(showcase_div);\n  }\n\n  function getVideoAtIndex(index, videoArray){\n\n    for (var i = 0; i < videoArray.length; i++) {\n      var videoData = videoArray[i]\n\n      if (videoData.id === index) {\n        return videoData;\n      }\n    }\n  }\n\n  function constructMovieDiv(dataForVideo) {\n    // Make a new image html tag\n    var timePassed = dataForVideo.created;\n    console.log(\"timePassed \" + timePassed);\n\n    var d = new Date();\n    var n = d.getTime();\n    console.log(\"milli \" + n);\n\n    var days = Math.floor((n - timePassed) / 1000 / 86400);\n    var years = Math.floor(days / 365.25);\n    var months = Math.floor(days / 52);\n    var weeks = Math.floor(days / 7);\n\n    console.log(\"years \" + years);\n    console.log(\"months \" + months);\n    console.log(\"weeks \" + weeks);\n    console.log(\"days \" + days);\n\n\n\n    if (years >= 1) timePassed = \"Fyrir \" + years + \" árum síðan\";\n    else if (months >= 1) timePassed = \"Fyrir \" + months + \" mánuðum síðan\";\n    else if (weeks >= 1) timePassed = \"Fyrir \" + weeks + \" vikum síðan\";\n    else if (days >= 1) timePassed = \"Fyrir \" + days + \" dögum síðan\";\n\n    var movie_div = document.createElement('div');\n    movie_div.classList.add('movie');\n\n    var movie_img_div = document.createElement('div');\n    movie_img_div.classList.add('movie__image');\n\n    var movie_info_div = document.createElement('div');\n    movie_info_div.classList.add('movie__info');\n\n    var img_tag = document.createElement('img');\n    // Adding a new attribute to link the actual image\n    img_tag.setAttribute('src', dataForVideo.poster);\n    // adding the css class for the movie image\n\n    var movie_title_text = document.createElement(\"p\");\n    movie_title_text.classList.add('title');\n    movie_title_text.appendChild(document.createTextNode(dataForVideo.title));\n\n    var movie_info_text = document.createElement(\"p\");\n    movie_info_text.classList.add('info');\n\n    movie_info_text.appendChild(document.createTextNode(timePassed));\n\n    movie_img_div.appendChild(img_tag);\n    movie_div.appendChild(movie_img_div);\n\n    movie_info_div.appendChild(movie_title_text);\n    movie_info_div.appendChild(movie_info_text);\n    movie_div.appendChild(movie_info_div);\n\n    return movie_div;\n\n  }\n\n  function empty(element) {\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  return {\n    init: init\n  }\n})();\n"]}